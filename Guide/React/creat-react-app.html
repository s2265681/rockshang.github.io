<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>creat-react-app | RockShang</title>
    <meta name="description" content="The description of the site.">
    <link rel="icon" href="/rock.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a428a3e9.css" as="style"><link rel="preload" href="/assets/js/app.1c82f29a.js" as="script"><link rel="preload" href="/assets/js/2.30c5ac0e.js" as="script"><link rel="preload" href="/assets/js/48.79e5c291.js" as="script"><link rel="prefetch" href="/assets/js/10.a74c9590.js"><link rel="prefetch" href="/assets/js/11.9c7ded70.js"><link rel="prefetch" href="/assets/js/12.48ff4abd.js"><link rel="prefetch" href="/assets/js/13.aa0fdd62.js"><link rel="prefetch" href="/assets/js/14.028cd6c8.js"><link rel="prefetch" href="/assets/js/15.d04982f2.js"><link rel="prefetch" href="/assets/js/16.7df1ca52.js"><link rel="prefetch" href="/assets/js/17.4094085c.js"><link rel="prefetch" href="/assets/js/18.a7f76ddc.js"><link rel="prefetch" href="/assets/js/19.ad0bd4ef.js"><link rel="prefetch" href="/assets/js/20.6d7b79d4.js"><link rel="prefetch" href="/assets/js/21.cbb99ef6.js"><link rel="prefetch" href="/assets/js/22.22c92f5b.js"><link rel="prefetch" href="/assets/js/23.8ccf7504.js"><link rel="prefetch" href="/assets/js/24.c15b004a.js"><link rel="prefetch" href="/assets/js/25.b6f46ac1.js"><link rel="prefetch" href="/assets/js/26.d5249bcb.js"><link rel="prefetch" href="/assets/js/27.8e1e2c79.js"><link rel="prefetch" href="/assets/js/28.40530326.js"><link rel="prefetch" href="/assets/js/29.977deed7.js"><link rel="prefetch" href="/assets/js/3.b8784789.js"><link rel="prefetch" href="/assets/js/30.0f1571d0.js"><link rel="prefetch" href="/assets/js/31.008a1fd6.js"><link rel="prefetch" href="/assets/js/32.3e6f4ab6.js"><link rel="prefetch" href="/assets/js/33.163b5e74.js"><link rel="prefetch" href="/assets/js/34.01afbfab.js"><link rel="prefetch" href="/assets/js/35.1589fa59.js"><link rel="prefetch" href="/assets/js/36.93e80cbe.js"><link rel="prefetch" href="/assets/js/37.28ccdd12.js"><link rel="prefetch" href="/assets/js/38.2ef5f24e.js"><link rel="prefetch" href="/assets/js/39.5e35cedd.js"><link rel="prefetch" href="/assets/js/4.78363493.js"><link rel="prefetch" href="/assets/js/40.2819cad4.js"><link rel="prefetch" href="/assets/js/41.df64cca5.js"><link rel="prefetch" href="/assets/js/42.ac7fa58d.js"><link rel="prefetch" href="/assets/js/43.02fb4468.js"><link rel="prefetch" href="/assets/js/44.3ed76024.js"><link rel="prefetch" href="/assets/js/45.0780457e.js"><link rel="prefetch" href="/assets/js/46.ab1d16a3.js"><link rel="prefetch" href="/assets/js/47.5f9182b4.js"><link rel="prefetch" href="/assets/js/49.6d84d7a2.js"><link rel="prefetch" href="/assets/js/5.36f3580c.js"><link rel="prefetch" href="/assets/js/50.ed4d42f0.js"><link rel="prefetch" href="/assets/js/51.5bf872b9.js"><link rel="prefetch" href="/assets/js/52.60424767.js"><link rel="prefetch" href="/assets/js/53.0790fba9.js"><link rel="prefetch" href="/assets/js/54.68d4743d.js"><link rel="prefetch" href="/assets/js/55.78f3cd09.js"><link rel="prefetch" href="/assets/js/56.67f24f8b.js"><link rel="prefetch" href="/assets/js/57.11535bb9.js"><link rel="prefetch" href="/assets/js/58.401294eb.js"><link rel="prefetch" href="/assets/js/59.bc7d7bc4.js"><link rel="prefetch" href="/assets/js/6.c855d9b2.js"><link rel="prefetch" href="/assets/js/60.790b783a.js"><link rel="prefetch" href="/assets/js/61.b15c65be.js"><link rel="prefetch" href="/assets/js/62.0ab03f78.js"><link rel="prefetch" href="/assets/js/63.7c4eef18.js"><link rel="prefetch" href="/assets/js/64.bdcf732a.js"><link rel="prefetch" href="/assets/js/65.d9fe0367.js"><link rel="prefetch" href="/assets/js/66.0ff2964c.js"><link rel="prefetch" href="/assets/js/67.0bfc6ad7.js"><link rel="prefetch" href="/assets/js/68.67d07dac.js"><link rel="prefetch" href="/assets/js/69.d790c1a8.js"><link rel="prefetch" href="/assets/js/7.de0374ba.js"><link rel="prefetch" href="/assets/js/70.34a379ca.js"><link rel="prefetch" href="/assets/js/71.fc2bc711.js"><link rel="prefetch" href="/assets/js/72.4914f810.js"><link rel="prefetch" href="/assets/js/73.126bcea7.js"><link rel="prefetch" href="/assets/js/74.9ece42bc.js"><link rel="prefetch" href="/assets/js/8.15d23de7.js"><link rel="prefetch" href="/assets/js/9.689eb93c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a428a3e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RockShang</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/Projects/product.html" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/InterView/" class="nav-link">
  InterView
</a></div><div class="nav-item"><a href="http://rockshang.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Homepage
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/s2265681" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/Projects/product.html" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/InterView/" class="nav-link">
  InterView
</a></div><div class="nav-item"><a href="http://rockshang.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Homepage
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/s2265681" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Guide/" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Guide/React/Guild.html" class="sidebar-link">Guild</a></li><li><a href="/Guide/React/READE_Core.html" class="sidebar-link">React-Core</a></li><li><a href="/Guide/React/Redux_umi.html" class="sidebar-link">企业级开发框架 umi</a></li><li><a href="/Guide/React/SimpleReact.html" class="sidebar-link">实现一个简单的 React</a></li><li><a href="/Guide/React/creat-react-app.html" class="active sidebar-link">creat-react-app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#事件-注意回调函数-this-的指向" class="sidebar-link">事件 注意回调函数 this 的指向</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#通讯" class="sidebar-link">通讯</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#antd-按需加载" class="sidebar-link">antd 按需加载</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#组件设计原则" class="sidebar-link">组件设计原则</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#shouldcomponentupdate" class="sidebar-link">shouldComponentUpdate</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#react-memo" class="sidebar-link">React.memo</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#高阶组件-（扩展组件功能，属性）" class="sidebar-link">高阶组件 （扩展组件功能，属性）</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#高阶组件装饰器" class="sidebar-link">高阶组件装饰器</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#扩展组件最好不用继承，用复合组件更好更安全" class="sidebar-link">扩展组件最好不用继承，用复合组件更好更安全</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#函数化组件hook（钩子）-最新-v16-8新增项" class="sidebar-link">函数化组件Hook（钩子）  --&gt; 最新  V16.8新增项</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#副作用钩子-effect-hook" class="sidebar-link">副作用钩子 Effect Hook</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#自定义钩子" class="sidebar-link">自定义钩子</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#其他hook-usecontext、usereducer、usecallback、usememo" class="sidebar-link">其他Hook useContext、useReducer、useCallback、useMemo</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#组件跨层级通讯-context" class="sidebar-link">组件跨层级通讯 - Context</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#antdform-js-创建一个表单组件" class="sidebar-link">AntdForm.js 创建一个表单组件</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#redux" class="sidebar-link">redux</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#react-redux" class="sidebar-link">react-redux</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#react-router" class="sidebar-link">react-router</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#异步-react-默认只支持同步，实现异步任务比如延迟，网络请求，需要中间件的支持-如-redux-thunk" class="sidebar-link">异步 -&gt;  react 默认只支持同步，实现异步任务比如延迟，网络请求，需要中间件的支持 如 redux-thunk</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#redux-router-4" class="sidebar-link">redux-router-4</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#企业级框架-umi" class="sidebar-link">企业级框架  -- umi</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#redux-saga" class="sidebar-link">redux-saga</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#generator" class="sidebar-link">generator</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#企业级开发框架-umi" class="sidebar-link">企业级开发框架 umi</a></li><li class="sidebar-sub-header"><a href="/Guide/React/creat-react-app.html#dva-代替-redux-redux-saga" class="sidebar-link">dva 代替 redux redux-saga</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nest</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PicStudy</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="creat-react-app"><a href="#creat-react-app" class="header-anchor">#</a> creat-react-app</h3> <p>npx create-react-app + 项目名</p> <p>学写一次到处运行
jsx js 编译成 js 对象
react 负责逻辑层控制层
react-dom 负责渲染 渲染层</p> <ul><li><p>组件创建</p> <p>函数式 rfc
function Comp(props){
return(...)
}</p> <p>组件式、类 rcc
class Comp extends React.Component{
render(){
return(...)
}
}</p></li> <li><p>setState 内部激活更新
this.setState({}) 异步批量执行，不会立刻拿到结果，改成同步或者通过传入函数获得最新参数
this.setState((state)=&gt;{})
state 里面是最新的</p></li> <li><p>事件处理</p></li> <li><p>生命周期
React V16.3 之前的生命周期</p> <p>14.4 之后
新增 fiber</p></li></ul> <p>![新版的生命周期函数]](https://img-blog.csdnimg.cn/20191009202247333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDE2MDM4NQ==,size_16,color_FFFFFF,t_70)</p> <p>创建时： constructor -&gt;static getDerivedStateFromProps -&gt; shouldComponentUpdate -&gt; render -&gt; getSnapshotBeforeUpdate</p> <p>componentCatch(error,info){
错误捕获
}</p> <p>复习：</p> <ul><li><p>React 逻辑控制，视图模型的控制 jsx-&gt; React.createElement() 形成虚拟 dom， 维护一组数据，执行 render 函数把数据通过 diff 算法渲染成真正的 dom。</p></li> <li><p>JSX 表达式{expr} 属性 id={expr} jsx 本身也是表达式</p></li> <li><p>组件的描述方式：函数式、组件式</p></li> <li><p>条件和循环
{三元表达式}
{短路表达式}
{.map 循环}</p></li></ul> <h2 id="事件-注意回调函数-this-的指向"><a href="#事件-注意回调函数-this-的指向" class="header-anchor">#</a> 事件 注意回调函数 this 的指向</h2> <p>&lt; input onChange={this.onChange}&gt;
1、 &lt; input onChange={()=&gt;this.onChange(参数)}&gt;
2、 &lt; input onChange={this.onChange.bind(this， 参数)}&gt;
3、 在 constructor 里面绑定 bind</p> <h2 id="通讯"><a href="#通讯" class="header-anchor">#</a> 通讯</h2> <p>&lt; Comp title={} submit={this.submit}&gt;</p> <h1 id="组件化"><a href="#组件化" class="header-anchor">#</a> 组件化</h1> <p>api 很少，组件化管理，工作方式简单：UI=F(state)</p> <p>npm install antd --save</p> <h2 id="antd-按需加载"><a href="#antd-按需加载" class="header-anchor">#</a> antd 按需加载</h2> <p>安装
用 react-app-rewired 取代 react-scripts 用来扩展 webpack 配置，类似于 vue 的 vue.config.js
babel-plugin-import
按需加载见 antd 文档</p> <h2 id="组件设计原则"><a href="#组件设计原则" class="header-anchor">#</a> 组件设计原则</h2> <p>容器组件 VS 展示组件
设计思路：1、工作和展示分离  2、重用性高  3、更高的可用性  4、更易于测试</p> <h2 id="shouldcomponentupdate"><a href="#shouldcomponentupdate" class="header-anchor">#</a> shouldComponentUpdate</h2> <p>CommentList
shouldComponentUpdate 里面优化
或者通过 V15 版本之后新增了 PureComponent 纯组件代替 shouldComponentUpdate 优化，内部对 shouldComponentUpdate 做了处理，进行了浅拷贝(注意不能传深层次数据，不要传对象，或者引用地址不发生变化，就可以规避问题，否则会失效)</p> <h2 id="react-memo"><a href="#react-memo" class="header-anchor">#</a> React.memo</h2> <p>CommentList.js
** V16.6 之后版本，新增了 React.memo,是高阶组件浅对比（效率高），让函数式组件也有了 PureComponent 的功能,见 CommentList 组件</p> <h2 id="高阶组件-（扩展组件功能，属性）"><a href="#高阶组件-（扩展组件功能，属性）" class="header-anchor">#</a> 高阶组件 （扩展组件功能，属性）</h2> <ul><li>高阶组件，高阶组件是函数，传入一个组件返回一个新的组件，提高复用率，抽离相同逻辑，在 React 中就有了 HOC（Height-Order Components） 概念，高阶组件是一个函数，但是他返回另一个组件，产生新的组件可以对属性进行包装，也可以重写部分生命周期</li></ul> <h2 id="高阶组件装饰器"><a href="#高阶组件装饰器" class="header-anchor">#</a> 高阶组件装饰器</h2> <p>Hoc.js
高阶组件可以多次链式调用，但是写法蛋疼，于是 ES7 中出了新的写法，装饰器，安装
npm install --save-dev babel-plugin-transform-decorators-legacy
使用装饰器包裹的组件必须要是类，组件式的</p> <h2 id="扩展组件最好不用继承，用复合组件更好更安全"><a href="#扩展组件最好不用继承，用复合组件更好更安全" class="header-anchor">#</a> 扩展组件最好不用继承，用复合组件更好更安全</h2> <p>Composition.js
// 扩展获得函数 Api 值的调用
// 过略数组
// 写一个 RedioGroup 组件
修改和操作 children
React.Children</p> <div class="language- extra-class"><pre class="language-text"><code>   {React.Children.map(props.children,(child)=&gt;{
       // vdom 不可更改，克隆一个新的去改才行
       // child.props.name = props.name;
       // return child;
       return React.cloneElement(child,{name:props.name})
   })}
</code></pre></div><p>1、函数化组件Hook
2、上下文Context</p> <h2 id="函数化组件hook（钩子）-最新-v16-8新增项"><a href="#函数化组件hook（钩子）-最新-v16-8新增项" class="header-anchor">#</a> 函数化组件Hook（钩子）  --&gt; 最新  V16.8新增项</h2> <p>-&gt; HookTest.js</p> <p>特点：1、不编写class就能享受到class的功能
2、更简洁 更容易理解
3、无需更改组件结构，提高复用状态逻辑</p> <p>升级react 、 react-dom
npm i react react-dom -S</p> <h2 id="副作用钩子-effect-hook"><a href="#副作用钩子-effect-hook" class="header-anchor">#</a> 副作用钩子 Effect Hook</h2> <p>-&gt; HookTest.js</p> <p>useEffect就是Effect Hook，给函数增加了副作用的能力，
跟class中componentidMount，componentDidUpdate，componentWillUnmount</p> <p>// 副作用钩子会在每次渲染的时候都执行，重新渲染, 第二个是状态依赖，
是个数组，</p> <p>写了哪个哪个改变时调用，如[ count ] ,只有count改变时才会调用
写空[],那么只会执行一次， 任何状态改变都不会调用
如果不写，哪个状态改变都会执行， 任何状态改变都会调用</p> <h2 id="自定义钩子"><a href="#自定义钩子" class="header-anchor">#</a> 自定义钩子</h2> <p>-&gt; 自定义的Hook是一个函数，名称用use开头，函数内部可以调用其他的钩子</p> <div class="language- extra-class"><pre class="language-text"><code>function useAge(){
    const [age,setAge] = useState(0);
    useEffect(()=&gt;{
        setTimeout(() =&gt; {
            setAge(20);
      }, 2000);
    })
    return age;
}

</code></pre></div><h2 id="其他hook-usecontext、usereducer、usecallback、usememo"><a href="#其他hook-usecontext、usereducer、usecallback、usememo" class="header-anchor">#</a> 其他Hook useContext、useReducer、useCallback、useMemo</h2> <h2 id="组件跨层级通讯-context"><a href="#组件跨层级通讯-context" class="header-anchor">#</a> 组件跨层级通讯 - Context</h2> <p>--&gt; ContextType.js</p> <ul><li>上下文提供一种不需要每层设置props就能跨多级传递数据的方式
Context的相关api</li> <li>React.CreateContent</li> <li>Context.Provider</li> <li>Class.contextType</li> <li>Context.Consumer</li></ul> <h2 id="antdform-js-创建一个表单组件"><a href="#antdform-js-创建一个表单组件" class="header-anchor">#</a> AntdForm.js 创建一个表单组件</h2> <p>--&gt; KForm</p> <h2 id="redux"><a href="#redux" class="header-anchor">#</a> redux</h2> <p>Action-&gt;dispatch-&gt;store-&gt;Reducers(更改状态)-&gt;store(数据存储)-&gt;state-&gt;React Component
纯粹，单向，同步
npm i redux --save</p> <p>原始redux 繁琐</p> <h2 id="react-redux"><a href="#react-redux" class="header-anchor">#</a> react-redux</h2> <p>npm i react-redux --save</p> <h2 id="react-router"><a href="#react-router" class="header-anchor">#</a> react-router</h2> <h2 id="异步-react-默认只支持同步，实现异步任务比如延迟，网络请求，需要中间件的支持-如-redux-thunk"><a href="#异步-react-默认只支持同步，实现异步任务比如延迟，网络请求，需要中间件的支持-如-redux-thunk" class="header-anchor">#</a> 异步 -&gt;  react 默认只支持同步，实现异步任务比如延迟，网络请求，需要中间件的支持 如 redux-thunk</h2> <p>npm i redux-thunk --save   redux 中间件 dispatch异步操作</p> <p>npm i redux-logger --save  记录redux 操作日志</p> <h2 id="redux-router-4"><a href="#redux-router-4" class="header-anchor">#</a> redux-router-4</h2> <p>https://www.reacttrainning.com/react-router
npm i react-router-dom -S
-&gt; ReactSample.js
路由即组件</p> <p>路由守卫
具有校验路由功能</p> <p>-- umi 、 redux解决方案dva 、 generator 、 redux-saga(更强大的异步处理方案和react-thunk(较弱))</p> <h2 id="企业级框架-umi"><a href="#企业级框架-umi" class="header-anchor">#</a> 企业级框架  -- umi</h2> <h2 id="redux-saga"><a href="#redux-saga" class="header-anchor">#</a> redux-saga</h2> <p>概述：redux-saga使副作用（数据获取、浏览器缓存获取）易于管理、执行、测试和失败处理
npm i --save redux-saga</p> <h2 id="generator"><a href="#generator" class="header-anchor">#</a> generator</h2> <p>function * login(){} * 位置都可以
生成器函数 他返回一个generator对象 ， 满足可循环可迭代</p> <div class="language- extra-class"><pre class="language-text"><code> // 定义生成器函数
 function *g(){
   yield 'a';
   yield 'b';
   yield 'c';
   return 'ending'
 }
 // 返回Generator对象
  console.log(g()); // g {&lt;suspended&gt;}
  console.log(g().toString()); // [object Generator]

</code></pre></div><h2 id="企业级开发框架-umi"><a href="#企业级开发框架-umi" class="header-anchor">#</a> 企业级开发框架 umi</h2> <ul><li>开箱即用 内置 react、react-router</li> <li>类next.js且功能路由约定，支持路由方式</li> <li>完善的插件体系</li> <li>高性能，插件支持PWA</li> <li>支持静态页面导出，适配各种环境，如 中台业务，无限业务，支付宝钱包，云凤蝶等</li> <li>一键兼容到IE9，基于umi-pligin-polyfils</li> <li>完善的TypeScript支持</li> <li>与dva数据流的深入融合，支持duck directory、model的自动加载、code splitting 等</li></ul> <h2 id="dva-代替-redux-redux-saga"><a href="#dva-代替-redux-redux-saga" class="header-anchor">#</a> dva 代替 redux redux-saga</h2> <p><img src="https://img-blog.csdnimg.cn/20191023143342297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDE2MDM4NQ==,size_16,color_FFFFFF,t_70" alt="dva工作流程"></p> <p>原理：(异步) url-&gt;Route Component -&gt;dispatch-&gt;Action-&gt;Effect-&gt;Server-&gt;Effect-&gt;Reducer-&gt;State-&gt;connect-&gt;Route Component</p> <p>(同步）url-&gt;Route Component -&gt;dispatch-&gt;Action-&gt;Reducer-&gt;State-&gt;connect-&gt;Route Component</p> <p>订阅一写操作：Subscription---&gt;dispatch---Action</p> <p>约定: src 源码
1、pages页面
2、components组件
3、layout布局
4、models数据
config 配置
mock 数据模拟
test测试</p> <p>Umi的基本使用</p> <p>npm int
npm install umi -D    // -D就是–save-dev 开发时的框架，放到devDependencies里面 ， 只有开发时用的</p> <p>npm install antd -S    // -D就是–save 开发时的框架，放到dependencies 里面 ，运行打包时用的</p> <p>选型：1、按材选择
2、Ts vue对Ts还是有点蹩脚，react更容易
3、Angular 对原生js支持更好</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Guide/React/SimpleReact.html" class="prev">
        实现一个简单的 React
      </a></span> <span class="next"><a href="/Guide/Node/00Guild.html">
        Guild
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1c82f29a.js" defer></script><script src="/assets/js/2.30c5ac0e.js" defer></script><script src="/assets/js/48.79e5c291.js" defer></script>
  </body>
</html>
